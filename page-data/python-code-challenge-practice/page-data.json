{"componentChunkName":"component---src-templates-blog-post-js","path":"/python-code-challenge-practice/","result":{"data":{"markdownRemark":{"fields":{"slug":"/python-code-challenge-practice/","encrypted":null},"html":"<p>Code challenges are a great way to level up your skills when learning a new programming language. I've been using Python more recently so I wanted to practice a bit as it's not my main language.</p>\n<p>This post will overview a quick code challenge I found on Code Wars, showing my solution as well as steps taken to learn how to write better Python code.</p>\n<h2>Using Code Wars</h2>\n<p>You can use <a href=\"https://www.codewars.com/\">Code Wars</a>, <a href=\"https://www.hackerrank.com/\">Hacker Rank</a>, or any other challenge site to better yourself. Personally, I like Code Wars as the UI and site design feels like a game which makes it more engaging for me. At the end of the day it's the quality of the challenges that matter so I recommend both in that regard.</p>\n<h3>Choosing a Challenge - Duplicate Encoder</h3>\n<p>The challenge I ended up going with is called <a href=\"https://www.codewars.com/kata/54b42f9314d9229fd6000d9c\">Duplicate Encoder</a> which has a difficulty rank of 6 kyu (with 1 being the hardest and 8 the easiest).</p>\n<p>For brevity, I'll include the challenge description below as an image.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.8%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA/ElEQVQoz52S23KCQBBE9xewAsjKbUHuF42KgmL5/1/VMmNAKomplA+nund6dh52Vlz6G5rjGYemw6nt0XY968NfB72wzv3+0E55d76ypxll9QlRlFuE65SJ4nxiHWUT8zoRJ8W32qPPVxHEbn+CCmI+zFHByM/sVV8QJhAqCLG0JBzXhWGa0A3jLT50A+ZSQni+x4N8pYaiDk3ToC0Wb6DxYOF6CnLlwHY81hFL/u5fYUkbK9uDoM3Qg9JDJ2nJxMlTn76YljH6OdRDmWiOHdph7fVmhyyvefVEVQ86/ICy2nJGv4FyupwXG/ZzqJ9U0OT0a3qaVf/Y6t/5Hcw0/s/TBeirAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"code wars dupe encode desc\"\n        title=\"code wars dupe encode desc\"\n        src=\"/static/e9be1d5fac53a41a52955e0309cf8a1f/00d43/code-wars-dupe-encode-desc.png\"\n        srcset=\"/static/e9be1d5fac53a41a52955e0309cf8a1f/63868/code-wars-dupe-encode-desc.png 250w,\n/static/e9be1d5fac53a41a52955e0309cf8a1f/0b533/code-wars-dupe-encode-desc.png 500w,\n/static/e9be1d5fac53a41a52955e0309cf8a1f/00d43/code-wars-dupe-encode-desc.png 1000w,\n/static/e9be1d5fac53a41a52955e0309cf8a1f/1790f/code-wars-dupe-encode-desc.png 1189w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>This problem is straightforward and looks like it can be solved by looping over the characters or using an array map. Then we'll want duplicate characters to return as \")\" and non-duplicates to return as \"(\".</p>\n<h3>Note on Tests</h3>\n<p>Before continuing, I want to make a quick note on a piece of the Code Wars UI that stands out. That is the \"Sample Tests\" section and the fact you can check your code against the tests. This forces all users of Code Wars to code from a <a href=\"https://www.agilealliance.org/glossary/tdd/\">Test Driven Development</a> perspective.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAw0lEQVQoz52PWw6CMBBFuwShT1qgQFuVxB8X4I/7cP/LuE4FH0Qj0Y+TaSftyb0spT3G8YBIM6Yd+iGiaTvUjf+J/KfrA5gxBmEYCA/vLVxToShLbIriNl8pOf9CfsPBhFQkapFSRCDSNiGEgNY7WGegtCIkJMGFWEGC5YOmlI4iO99TbRLGXJvS1u/CnOaTbNrPwny518pVn3X5Ss0ls1A+4i4Rf0BCpWso00BXHc0WqvLTpL1Udh1tIWSFcDjheL7gCtHHsn2zfFRxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"code wars sample test ui\"\n        title=\"code wars sample test ui\"\n        src=\"/static/fd0679c10925d6138dcca3d1f28ac7e7/00d43/code-wars-sample-test-ui.png\"\n        srcset=\"/static/fd0679c10925d6138dcca3d1f28ac7e7/63868/code-wars-sample-test-ui.png 250w,\n/static/fd0679c10925d6138dcca3d1f28ac7e7/0b533/code-wars-sample-test-ui.png 500w,\n/static/fd0679c10925d6138dcca3d1f28ac7e7/00d43/code-wars-sample-test-ui.png 1000w,\n/static/fd0679c10925d6138dcca3d1f28ac7e7/f2331/code-wars-sample-test-ui.png 1427w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>While these tests are simple, it helps illustrate the beauty of a suite of simply written unit tests. Whether that's the expected output of a public class method or that of a simple function.</p>\n<h2>Solving the Challenge</h2>\n<p>Below is my first take that managed to pass (comments added):</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">duplicate_encode</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    i <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token comment\"># Using a dict to check and store char pointer</span>\n    char_and_pointer <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token comment\"># Iterate over the string</span>\n    <span class=\"token keyword\">for</span> char <span class=\"token keyword\">in</span> word<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Avoiding case</span>\n        char <span class=\"token operator\">=</span> char<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># Checking if character exists in our dictionary</span>\n        <span class=\"token keyword\">if</span> char <span class=\"token keyword\">in</span> char_and_pointer<span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># A bit of a janky way to change characters in a string</span>\n            word <span class=\"token operator\">=</span> word<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">')'</span> <span class=\"token operator\">+</span> word<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n            <span class=\"token keyword\">if</span> char_and_pointer<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token string\">'repeat'</span><span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># Want to go back to the first time this character was found and replace</span>\n                old_pointer <span class=\"token operator\">=</span> char_and_pointer<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span>\n                word <span class=\"token operator\">=</span> word<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>old_pointer<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">')'</span> <span class=\"token operator\">+</span> word<span class=\"token punctuation\">[</span>old_pointer<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n                <span class=\"token comment\"># Set the pointer as 'repeat' so we now know going forward</span>\n                char_and_pointer<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'repeat'</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># If first time character has appeared, set accordingly</span>\n            word <span class=\"token operator\">=</span> word<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">'('</span> <span class=\"token operator\">+</span> word<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n            char_and_pointer<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i\n        i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> word</code></pre></div>\n<p>This managed to solve the problem, but after hitting solve you're greeted with a variety of user submitted solutions ranked by whether they follow \"Best Practices\" or if it's \"Clever\".</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 836px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.19999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB2ElEQVQ4y41T7XKbMBDUK8Rg8yUQAtuAjQ0uyTjEST2T93+n7d0J1c20M82PnZV0p9N9rNR4ecH0MqM//XA4M19wWngYJ1kP4/PCbu/B5+dhgq0a1NsWypga1hhUpUFZ5KhsiareIs004jRDkmpC9l9EcSJQaZaj0DlsUSDPKWBlUdDalBZZYZCQPcsNPUAXkxSpBGDW5GegTQldlIiTBEG4hmraHofjgPZwRkfcMRP4rD+NVNZFYMotbL2n0h4o7Y7Yw50p7tM8f+B1fsft/Q7u6fz2gZ/3T+kP29vuhKY5Ch/7UR7z6NhGSXH/JGDb9eLkM2Ojz3BPQTya1nMvgfkeg/eM3f7ghjLQhKbpKplwYD9dLvcx7fG3ve/Hxe58jktrOImqbtxQeDoZDUQmG7vG5zSYIAzxtAqwCr4H9ldaG5qwRmUyxyQfY60YvdOXi+HXAH+Cz9QmSlDXNTW3xXa3o0kfqR97yjrGerNBuA4J64XdRX++ClZ/ZalEuEkmuoqoVC6d9cY6ZHD5GbUi9SC/kjWqNQWOsIkiYQ/FzeTvJN9scMxf6bysp+erNJwlwU1n2IX/BcWiZd2xDt9udwnO++vrTQTNEjlQQC/yx4QXfZJk/GPMvwDU6G7VAeFPkQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"code war sol ex\"\n        title=\"code war sol ex\"\n        src=\"/static/57e24223fa58d9863c3456cb42972f11/27b8e/code_war_sol_ex.png\"\n        srcset=\"/static/57e24223fa58d9863c3456cb42972f11/63868/code_war_sol_ex.png 250w,\n/static/57e24223fa58d9863c3456cb42972f11/0b533/code_war_sol_ex.png 500w,\n/static/57e24223fa58d9863c3456cb42972f11/27b8e/code_war_sol_ex.png 836w\"\n        sizes=\"(max-width: 836px) 100vw, 836px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2>Learning from Others</h2>\n<p>Typically the \"Clever\" answers are where you can learn the secret sauces of a programming language. As noted in the first answer in the above image, the user implements <a href=\"https://www.geeksforgeeks.org/python-list-comprehension/\">Python list comprehension</a> to achieve a one line answer. And by keeping this code <a href=\"https://docs.python-guide.org/writing/style/\">Pythonic</a>, aka in line with the principles of the language, the Python compiler will typically prioritize the execution speed of the code.</p>\n<p>The second noted solution in the above image still uses list comprehension, but it implements <a href=\"https://realpython.com/python-counter/\">Python's Counter function</a>. This creates a dictionary key for each letter in the string where the value is the count of that character. The user's code checks to see if the count of each character is 1 or not, and returns the proper parenthesis character. Not too much different than the other solution, but it shows off how useful <a href=\"https://docs.python.org/3/library/\">Python's standard library</a> can be.</p>\n<h2>Speed Tests and Refactoring</h2>\n<p>Performance should always be an important consideration. While code challenge sites don't always factor in performance, it's a fun means to base further refactoring on.</p>\n<p>So using my solution and the top 2 solutions, I've gone ahead and created a small testing script to run locally.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Using timeit for speed tests</span>\n<span class=\"token keyword\">import</span> timeit\n\n<span class=\"token comment\"># Using string 'Mississippi'</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>timeit<span class=\"token punctuation\">.</span>timeit<span class=\"token punctuation\">(</span><span class=\"token string\">\"duplicate_encode_mine('Mississippi')\"</span><span class=\"token punctuation\">,</span> setup<span class=\"token operator\">=</span><span class=\"token string\">\"from __main__ import duplicate_encode\"</span><span class=\"token punctuation\">,</span> number<span class=\"token operator\">=</span><span class=\"token number\">1000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>      \n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>timeit<span class=\"token punctuation\">.</span>timeit<span class=\"token punctuation\">(</span><span class=\"token string\">\"duplicate_encode_sol1('Mississippi')\"</span><span class=\"token punctuation\">,</span> setup<span class=\"token operator\">=</span><span class=\"token string\">\"from __main__ import duplicate_encode2\"</span><span class=\"token punctuation\">,</span> number<span class=\"token operator\">=</span><span class=\"token number\">1000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>    \n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>timeit<span class=\"token punctuation\">.</span>timeit<span class=\"token punctuation\">(</span><span class=\"token string\">\"duplicate_encode_sol2('Mississippi')\"</span><span class=\"token punctuation\">,</span> setup<span class=\"token operator\">=</span><span class=\"token string\">\"from __main__ import duplicate_encode3\"</span><span class=\"token punctuation\">,</span> number<span class=\"token operator\">=</span><span class=\"token number\">1000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>    </code></pre></div>\n<p>And the times are as follows:</p>\n<ul>\n<li><strong>My solution</strong>: 8.62 seconds</li>\n<li><strong>User solution 1</strong>: 4.67 seconds</li>\n<li><strong>User solution 2</strong>: 5.14 seconds</li>\n</ul>\n<p><em>My solution is really slow! Lets see if we can fix this.</em></p>\n<p>The thing that stands out most to me is the janky way I changed the characters in the string. I think it may be best to instead make the string a list and then join them before returning.</p>\n<p>I'm also thinking there's no need to run <code class=\"language-text\">str.lower()</code> on each character, and can instead run it once on the whole string.</p>\n<p>Finally, I want to move away from checking for the string 'repeat', and instead want to check if the value is a -1.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">duplicate_encode</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Using a dict to check if exists and store the first chars pointer</span>\n    <span class=\"token comment\"># Setting the characters as keys allows for an index like look up (O(1)) rather than a count()</span>\n    char_pointers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token comment\"># Avoiding case</span>\n    word <span class=\"token operator\">=</span> word<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># List allows it to replace specific characters by index</span>\n    word <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span>\n    i <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">for</span> char <span class=\"token keyword\">in</span> word<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> char <span class=\"token keyword\">in</span> char_pointers<span class=\"token punctuation\">:</span>\n            word<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">')'</span>\n            <span class=\"token comment\"># Only need to replace a past char once</span>\n            <span class=\"token keyword\">if</span> char_pointers<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n                word<span class=\"token punctuation\">[</span>char_pointers<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">')'</span>\n                char_pointers<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            word<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'('</span>\n            char_pointers<span class=\"token punctuation\">[</span>char<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> i\n        i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>word<span class=\"token punctuation\">)</span></code></pre></div>\n<p>And the new times are as follows (using 'Mississippi' as input string)</p>\n<ul>\n<li><strong>My solution</strong>: 3.24 seconds</li>\n<li><strong>User solution 1</strong>: 4.64 seconds</li>\n<li><strong>User solution 2</strong>: 5.41 seconds</li>\n</ul>\n<p>Nice! After refactoring we were able to make our function faster. I think we could go on and make the function read better, but it's nice to see that increase in speed after learning better ways to write Python!</p>\n<h2>Conclusion</h2>\n<p>These challenges are great for both practice and learning. If you're a beginner, start slow and don't get discouraged. Use these challenges as a test and then learn from the solutions of your peers.</p>\n<p>That said, there are plenty of really tough challenges on these sites. No matter the skill level, I'm sure you'll learn something new!</p>\n<p>Please check out my Code Wars account here: <a href=\"https://www.codewars.com/users/patback118\">patback118</a></p>\n<p>Happy coding!</p>\n<ul>\n<li>Patrick</li>\n</ul>","frontmatter":{"title":"Using Code Challenges to Sharpen Skills","date":"05 June, 2022","tags":["Python","Code-challenge"]}}},"pageContext":{"slug":"/python-code-challenge-practice/"}},"staticQueryHashes":["3631884714"]}